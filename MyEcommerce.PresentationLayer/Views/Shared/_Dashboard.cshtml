@using System.Security.Claims
@using Microsoft.AspNetCore.Identity
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>ShopSphere</title>

    <!-- Google Font: Source Sans Pro -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="/plugins/fontawesome-free/css/all.min.css">
    <!-- Theme style -->
    <link rel="stylesheet" href="/css/adminlte.min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.min.css" />@*  ده علشان Toaster  *@
    @* <link rel="stylesheet" href="//cdn.datatables.net/2.3.5/css/dataTables.dataTables.min.css"/>  *@@* here to make a perfect Table *@
    <link rel="stylesheet" href="//cdn.datatables.net/1.13.4/css/jquery.dataTables.min.css" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.css" />

    @*  ده بيجيب شكل كويس فى textArea علشان description of category or product (TinyMce)*@
    <script src="https://cdn.tiny.cloud/1/9tu81lwfmtpla765d0qupnf3uac6v1ex1sx10uih8degb0nc/tinymce/8/tinymce.min.js" referrerpolicy="origin" crossorigin="anonymous"></script>
    <!-- Custom Styles for a modern look -->
    <style>
        /* Sidebar gradient & hover effect */
        .main-sidebar {
            background: linear-gradient(180deg, #1f2d3d, #243a52);
        }

        .nav-sidebar .nav-link {
            color: #cfd8dc;
            transition: all 0.3s ease;
        }

            .nav-sidebar .nav-link:hover {
                background-color: #0d6efd !important;
                color: #fff;
            }

            .nav-sidebar .nav-link.active {
                background-color: #0d6efd !important;
                color: #fff;
            }

        /* Navbar blur & shadow */
        .main-header {
            background-color: rgba(255,255,255,0.95);
            backdrop-filter: blur(8px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        }

        /* Cards shadow & hover lift */
        .card {
            border-radius: 0.8rem;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            transition: transform 0.2s, box-shadow 0.2s;
        }

            .card:hover {
                transform: translateY(-5px);
                box-shadow: 0 8px 20px rgba(0,0,0,0.15);
            }

        /* Card tools buttons rounded & hover effect */
        .card-tools .btn-tool {
            border-radius: 50%;
            transition: background-color 0.2s, color 0.2s;
        }

            .card-tools .btn-tool:hover {
                background-color: #0d6efd;
                color: #fff;
            }

        /* Footer gradient */
        .main-footer {
            background: linear-gradient(90deg, #343a40, #1f2d3d);
            color: #f1f1f1;
            font-weight: 500;
        }

            .main-footer a {
                color: #0d6efd;
            }

        /* Toaster & DataTable padding fix */
        .dataTables_wrapper {
            padding: 10px;
        }

        /* Sidebar user panel */
        .user-panel .info a {
            color: #fff;
            font-weight: 500;
        }

        /* Minor tweaks for smoother icons */
        .nav-icon, .fas, .far {
            transition: all 0.2s ease;
        }

            .nav-icon:hover, .fas:hover, .far:hover {
                color: #0d6efd;
            }
    </style>
</head>
<body class="hold-transition sidebar-mini">
    <div class="wrapper">
        <!-- Navbar -->
        <nav class="main-header navbar navbar-expand navbar-white navbar-light">
            <!-- Left navbar links -->
            <ul class="navbar-nav">
                <li class="nav-item d-none d-sm-inline-block " >
                    <a href="/Customer/Home/Index"  class="nav-link">Home</a>
                </li>
            </ul>
        </nav>

        <!-- Sidebar -->
        <aside class="main-sidebar sidebar-dark-primary elevation-4">
            <a href="/Customer/Home" class="brand-link">
                <span class="brand-text font-weight-light">ShopSphere</span>
            </a>

            <div class="sidebar">
                <div class="user-panel mt-3 pb-3 mb-3 d-flex">
                    <div class="image">
                        <img src="/img/IMG-20251201-WA0374.jpg" class="img-circle elevation-2" alt="User Image">
                    </div>
                    <div class="info">
                        @{
                            var IdentityClaims = (ClaimsIdentity)User.Identity;
                            var claim = IdentityClaims.FindFirst(ClaimTypes.Name);
                            var user = claim.Value;
                            
                        }
                        <a href="#" class="d-block">@user</a> 
                    </div>
                </div>
                <nav class="mt-2">
                    <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">
                        <li class="nav-item"><a href="/Admin/Dashboard/Index" class="nav-link"><i class="nav-icon fas fa-tachometer-alt"></i><p>Dashboard</p></a></li>
                        <li class="nav-item"><a href="/Admin/Users/Index" class="nav-link"><i class="nav-icon fas fa-users"></i><p>Users</p></a></li>
                        <li class="nav-item"><a href="/Admin/Category/Index" class="nav-link"><i class="nav-icon fas fa-th"></i><p>Categories</p></a></li>
                        <li class="nav-item"><a href="/Admin/Product/Index" class="nav-link"><i class="nav-icon fas fa-box"></i><p>Products</p></a></li>
                        <li class="nav-item"><a href="/Admin/Order/Index" class="nav-link"><i class="nav-icon fas fa-shopping-cart"></i><p>Orders</p></a></li>
                    </ul>
                </nav>
            </div>
        </aside>

        <!-- Content Wrapper -->
        <div class="content-wrapper">
            <section class="content-header">
                <div class="container-fluid">
                    <div class="row mb-2">
                        <div class="col-sm-6">
                            <h1>@ViewBag.PageTitle</h1>
                        </div>
                    </div>
                </div>
            </section>

            <section class="content">
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">@ViewBag.CardTitle</h3>
                        <div class="card-tools">
                            <button type="button" class="btn btn-tool" data-card-widget="collapse" title="Collapse"><i class="fas fa-minus"></i></button>
                            <button type="button" class="btn btn-tool" data-card-widget="remove" title="Remove"><i class="fas fa-times"></i></button>
                        </div>
                    </div>
                    <div class="card-body">
                        <partial name="_Notifications" />
                        <partial name="_Toaster" />
                        @RenderBody()
                    </div>
                </div>
            </section>
        </div>

        <!-- Footer -->
        <footer class="main-footer">
            <div class="float-right d-none d-sm-block"><b>Version</b> 3.2.0</div>
            <strong>&copy; 2026 ShopSphere</strong>
        </footer>

        <aside class="control-sidebar control-sidebar-dark"></aside>
    </div>

    <!-- Scripts -->
    <script src="/plugins/jquery/jquery.min.js"></script>
    <script src="/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="/dist/js/adminlte.min.js"></script>
    <script src="//cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>
